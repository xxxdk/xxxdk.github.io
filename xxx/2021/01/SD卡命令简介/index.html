<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="http://pic.xxxdk.xyz/0-favicon.png"><link rel="icon" href="http://pic.xxxdk.xyz/0-favicon.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="author" content="sni"><meta name="keywords" content="xxxdk"><meta name="description" content="SD卡命令在网上可以看到很多资料，本文仅为笔记用途。平时使用场景都是基于 SD3.0的版本，虽然现在 Physical Layer Simplified Specification已经发展到 8.0版本，但这里基于 3.01版本进行介绍。具体协议可以查看 Physical Layer Simplified Specification 3.01的 4.7 Commands、4.8 Card Stat"><meta property="og:type" content="article"><meta property="og:title" content="SD卡命令简介"><meta property="og:url" content="http://xxxdk.xyz/xxx/2021/01/SD%E5%8D%A1%E5%91%BD%E4%BB%A4%E7%AE%80%E4%BB%8B/index.html"><meta property="og:site_name" content="xxxdk&#39;s blog"><meta property="og:description" content="SD卡命令在网上可以看到很多资料，本文仅为笔记用途。平时使用场景都是基于 SD3.0的版本，虽然现在 Physical Layer Simplified Specification已经发展到 8.0版本，但这里基于 3.01版本进行介绍。具体协议可以查看 Physical Layer Simplified Specification 3.01的 4.7 Commands、4.8 Card Stat"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://pic.xxxdk.xyz/SD%E5%8D%A1%E5%91%BD%E4%BB%A4%E7%AE%80%E4%BB%8B.jpg"><meta property="article:published_time" content="2021-01-25T17:20:00.000Z"><meta property="article:modified_time" content="2021-04-11T06:58:38.310Z"><meta property="article:author" content="sni"><meta property="article:tag" content="mmc"><meta property="article:tag" content="sd card"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="http://pic.xxxdk.xyz/SD%E5%8D%A1%E5%91%BD%E4%BB%A4%E7%AE%80%E4%BB%8B.jpg"><title>SD卡命令简介 - xxxdk&#39;s blog</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"xxxdk.xyz",root:"/",version:"1.9.2",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!1,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!1,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!1,baidu:"483097114c116121e8392bfe82cc989b",google:null,gtag:"G-MWK6642R51",tencent:{sid:500707023,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:"SGSj2Qq4nqxiFPJx7WaVIv6A-gzGzoHsz",app_key:"OcvSWHkniFn3sB3MI1zuIQUg",server_url:"https://sgsj2qq4.lc-cn-n1-shared.com",path:"window.location.pathname",ignore_local:!0}},search_path:"/local-search.xml"};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><script async>if(!Fluid.ctx.dnt){var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?483097114c116121e8392bfe82cc989b";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()}</script><script async>Fluid.ctx.dnt||Fluid.utils.createScript("https://www.googletagmanager.com/gtag/js?id=G-MWK6642R51",(function(){function a(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],a("js",new Date),a("config","G-MWK6642R51")}))</script><meta name="generator" content="Hexo 5.4.2"></head><body><header><div class="header-inner" style="height:80vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>Just Because</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/">首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/">归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/">分类</a></li><li class="nav-item"><a class="nav-link" href="/tags/">标签</a></li><li class="nav-item"><a class="nav-link" href="/about/">关于</a></li><li class="nav-item"><a class="nav-link" href="/links/">友链</a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(http://pic.xxxdk.xyz/0-post.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="SD卡命令简介"></span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2021-01-26 01:20" pubdate>2021年1月26日 凌晨</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 5.1k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 43 分钟</span></div></div></div></div></div><script>!function(){const o=window.location.host.toLowerCase(),t=window.location.hostname.toLowerCase();if("localhost:4000"!==o&&"xxxdk.xyz"!==t){const o=window.location.pathname.toLowerCase();window.location.replace("http://xxxdk.xyz"+o)}}()</script></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 style="display:none">SD卡命令简介</h1><div class="markdown-body"><p>SD卡命令在网上可以看到很多资料，本文仅为笔记用途。平时使用场景都是基于 SD3.0的版本，虽然现在 Physical Layer Simplified Specification已经发展到 8.0版本，但这里基于 3.01版本进行介绍。具体协议可以查看 Physical Layer Simplified Specification 3.01的 4.7 Commands、4.8 Card State Transition Table、4.9 Responses。</p><h4 id="命令类型"><a href="#命令类型" class="headerlink" title="命令类型"></a>命令类型</h4><table><thead><tr><th>类型</th><th>缩写</th><th>描述</th></tr></thead><tbody><tr><td>Broadcast commands</td><td>bc</td><td>没有 response的广播命令</td></tr><tr><td>Broadcast commands with response</td><td>bcr</td><td>有 response的广播命令</td></tr><tr><td>Addressed（point-to-point）commands</td><td>ac</td><td>点对点（指定地址）无数据传输</td></tr><tr><td>Addressed（point-to-point）data transfer commands</td><td>adtc</td><td>点对点数据传输</td></tr></tbody></table><p>注：在 SPI mode下可以通过 CS管脚去选择具体的卡进行通信。个人理解，SPI mode下 CMD、DAT、CLK线复用，在识别过程和数据传输阶段才使得广播和点对点命令区分有意义。不过我没接触过 SPI mode的 SD卡，不确定是否有该场景存在。在 SD mode，当前大多数 SD控制器都不支持挂载多个 card，SD Card Association也不建议，感觉广播和点对点命令的区分没啥意义。</p><h4 id="命令格式"><a href="#命令格式" class="headerlink" title="命令格式"></a>命令格式</h4><p>命令长度为 48 bits，结构如下图。软件主要配置 Transmission Bit（读/写），Command Index（命令序号），Argument（命令参数），其余由逻辑处理。与 eMMC的完全一致（mmc的控制器 IP一般都是 eMMC/SD/SDIO复用的，例如 synopsys的 dwc_mshc）。</p><p><img src="http://pic.xxxdk.xyz/SD%E5%8D%A1%E5%91%BD%E4%BB%A4%E7%AE%80%E4%BB%8B-CMD_format.webp" alt="CMD_format"></p><h4 id="命令集"><a href="#命令集" class="headerlink" title="命令集"></a>命令集</h4><p>SD卡的命令集总共有 12种（class 9只用于 SDIO设备，正常涉及为 11种），每种 class代表一类功能，包含相关命令。具体可以查看协议 Table 4-18。SD卡具体支持的命令集可以通过 CSD寄存器的 bit [95:84]，CCC field来确定。</p><table><thead><tr><th>命令分类</th><th>描述</th></tr></thead><tbody><tr><td>class 0</td><td>basic，基础命令，如 CMD0、CMD2、CMD3、CMD4、CMD7、CMD8、CMD9、CMD10、CMD11（UHS-I mode支持）、CMD12、CMD13、CMD15</td></tr><tr><td>class 1</td><td>reserved，保留</td></tr><tr><td>class 2</td><td>block read，设置块长度、读取单块、多块数据、发送 tuning数据块、设置读取块数量，如 CMD16、CMD17、CMD18、CMD19、CMD20、CMD23、</td></tr><tr><td>class 3</td><td>reserved，保留</td></tr><tr><td>class 4</td><td>block write，设置块长度、设置写入块数量、写取单块、多块数据、写 CSD寄存器，如 CMD16、CMD23、CMD24、CMD25、CMD27</td></tr><tr><td>class 5</td><td>erase，设置擦除开始、结束地址、擦除操作，如 CMD32、CMD33、CMD38</td></tr><tr><td>class 6</td><td>write protection，设置写保护、清除写保护、获取 card写保护状态，如 CMD28、CMD29、CMD30（该命令集在 SDHC和 SDXC卡都已经不支持）</td></tr><tr><td>class 7</td><td>lock card，设置需要上/解锁的块长度、card上锁、解锁，如 CMD16、CMD42</td></tr><tr><td>class 8</td><td>Application-specific，表示下一个命令是一个特定应用命令，如 CMD55</td></tr><tr><td>class 10</td><td>用于 SDIO设备，CMD52-54</td></tr><tr><td>class 10</td><td>Switch Function，功能查询、变更速度模式、驱动能力等，如 CMD6</td></tr><tr><td>class 11</td><td>reserved，保留</td></tr></tbody></table><h4 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h4><table><thead><tr><th align="center">CMD index</th><th align="center">type</th><th align="left">argument</th><th align="center">resp</th><th align="center">abbr.</th><th align="left">description</th></tr></thead><tbody><tr><td align="center">class 0</td><td align="center"></td><td align="left"></td><td align="center"></td><td align="center"></td><td align="left"></td></tr><tr><td align="center">CMD0</td><td align="center">bc</td><td align="left">[31:0] 0000 0000</td><td align="center">none</td><td align="center">GO_IDLE_STATE</td><td align="left">重置 card进入 idle状态</td></tr><tr><td align="center">CMD2</td><td align="center">bcr</td><td align="left">[31:0] stuff bits</td><td align="center">R2</td><td align="center">ALL_SEND_CID</td><td align="left">card从 CMD线发送其 CID编号给 host</td></tr><tr><td align="center">CMD3</td><td align="center">ac</td><td align="left">[31:16] RCA<br>[15:0] stuff bits</td><td align="center">R6</td><td align="center">SET_RELATIVE_ADDR</td><td align="left">为 card分配相对地址</td></tr><tr><td align="center">CMD8</td><td align="center">bcr</td><td align="left">[31:12] reserved bits(0)<br>[11:8] supply voltage(VHS)<br>[7:0] check pattern<br></td><td align="center">R7</td><td align="center">SEND_IF_COND</td><td align="left">发送 host支持的工作电压给 card，询问 card是否支持相关工作电压。SDSC卡无法正常响应该命令，识别流程中，用于区分 SDSC与 SDHC和SDXC卡</td></tr><tr><td align="center">CMD9</td><td align="center">ac</td><td align="left">[31:16] RCA<br>[15:0] stuff bits</td><td align="center">R2</td><td align="center">SEND_CSD</td><td align="left">card从 CMD线发送其 CSD寄存器内容给 host</td></tr><tr><td align="center">CMD11</td><td align="center">ac</td><td align="left">[31:0] reserved bits(0)</td><td align="center">R1</td><td align="center">VOLTAGE_SWITCH</td><td align="left">切换总线信号电平到 1.8V</td></tr><tr><td align="center">CMD12</td><td align="center">ac</td><td align="left">[31:0] stuff bits</td><td align="center">R1b</td><td align="center">STOP_TRANSMISSION</td><td align="left">强制 card停止传输。</td></tr><tr><td align="center">CMD13</td><td align="center">ac</td><td align="left">[31:16] RCA<br>[15:0] stuff bits</td><td align="center">R1</td><td align="center">SEND_STATUS</td><td align="left">card发送其状态寄存器给 host。</td></tr><tr><td align="center">CMD15</td><td align="center">ac</td><td align="left">[31:16] RCA<br>[15:0] reserved bits(0)</td><td align="center">none</td><td align="center">GO_INACTIVE_STATE</td><td align="left">使 card进入 inactive状态</td></tr><tr><td align="center">class 2</td><td align="center"></td><td align="left"></td><td align="center"></td><td align="center"></td><td align="left"></td></tr><tr><td align="center">CMD16</td><td align="center">ac</td><td align="left">[31:0] block length</td><td align="center">R1</td><td align="center">SET_BLOCKLEN</td><td align="left">设置块读写操作的块长度，SDHC/SDXC card默认值都是 512bytes。对于 LOCK_UNLOCK命令，如果设置的长度大于 512bytes，BLOCK_LEN_ERROR bit将会置位。</td></tr><tr><td align="center">CMD17</td><td align="center">adtc</td><td align="left">[31:0] data address</td><td align="center">R1</td><td align="center">READ_SINGLE_BLOCK</td><td align="left">读取单块数据，SDSC卡块长度取决于 CMD16，SDHC卡和 SDXC卡为 512bytes</td></tr><tr><td align="center">CMD18</td><td align="center">adtc</td><td align="left">[31:0] data address</td><td align="center">R1</td><td align="center">READ_MULTIPLE_BLOCK</td><td align="left">连续读取多块数据，直到 host发送 STOP_TRANSMISSION命令，块长度与 CMD17情况一致</td></tr><tr><td align="center">CMD19</td><td align="center">adtc</td><td align="left">[31:0] reserved bits(0)</td><td align="center">R1</td><td align="center">SEND_TUNING_BLOCK</td><td align="left">在 tuning模式下，发送 64 bytes特定数据块，用于 SDR50和 SDR104模式最佳采样点的检测</td></tr><tr><td align="center">CMD23</td><td align="center">ac</td><td align="left">[31:0] Block Count</td><td align="center">R1</td><td align="center">SET_BLOCK_COUNT</td><td align="left">指定 CMD18和 CMD25的传输块数量</td></tr><tr><td align="center">class 4</td><td align="center"></td><td align="left"></td><td align="center"></td><td align="center"></td><td align="left"></td></tr><tr><td align="center">CMD16</td><td align="center">ac</td><td align="left">[31:0] block length</td><td align="center">R1</td><td align="center">SET_BLOCKLEN</td><td align="left">设置块读写操作的块长度，SDHC/SDXC card默认值都是 512bytes。对于 LOCK_UNLOCK命令，如果设置的长度大于 512bytes，BLOCK_LEN_ERROR bit将会置位。</td></tr><tr><td align="center">CMD23</td><td align="center">ac</td><td align="left">[31:0] Block Count</td><td align="center">R1</td><td align="center">SET_BLOCK_COUNT</td><td align="left">指定 CMD18和 CMD25的传输块数量</td></tr><tr><td align="center">CMD24</td><td align="center">adtc</td><td align="left">[31:0] data address</td><td align="center">R1</td><td align="center">WRITE_BLOCK</td><td align="left">写入单块数据，SDSC卡块长度取决于 CMD16，SDHC卡和 SDXC卡为 512bytes</td></tr><tr><td align="center">CMD25</td><td align="center">adtc</td><td align="left">[31:0] data address</td><td align="center">R1</td><td align="center">WRITE_MULTIPLE_BLOCK</td><td align="left">连续写入多块数据，直到 host发送 STOP_TRANSMISSION命令，块长度与 CMD24情况一致</td></tr><tr><td align="center">CMD27</td><td align="center">adtc</td><td align="left">[31:0] stuff bits</td><td align="center">R1</td><td align="center">PROGRAM_CSD</td><td align="left">写 CSD寄存器</td></tr><tr><td align="center">ACMDs</td><td align="center"></td><td align="left"></td><td align="center"></td><td align="center"></td><td align="left"></td></tr><tr><td align="center">ACMD6</td><td align="center">ac</td><td align="left">[31:2] stuff bits<br>[1:0] bus width</td><td align="center">R1</td><td align="center">SET_BUS_WIDTH</td><td align="left">定义用于数据传输的数据总线宽度，00b为 1bit，10b为 4bits，可以在 SCR寄存器确认 card允许的数据总线宽度</td></tr><tr><td align="center">ACMD13</td><td align="center">adtc</td><td align="left">[31:0] stuff bits</td><td align="center">R2</td><td align="center">SD_STATUS</td><td align="left">card向 host发送卡状态寄存器内容（SD Status）</td></tr><tr><td align="center">ACMD41</td><td align="center">bcr</td><td align="left">[31] reserved bit<br>[30] HSC(OCR[30])<br>[29] reserved for eSD<br>[28] XPC<br>[27:25] reserved bits<br>[24] S18R<br>[23:0] VDD Voltage Window(OCR[23:0])<br></td><td align="center">R3</td><td align="center">SD_SEND_OP_COND</td><td align="left">host发送其支持的容量信息（bit[30] HSC）给 card，并且 card将在 CMD线返回其 OCR寄存器内容。HSC需要在 card已经接收过 CMD8才有效。<br>bit [28] XPC 用于控制 SDXC卡在默认速度模式下的最大电流，XPC=0，表示最大电流为 100mA，不支持速度等级，XPC=1，表示最大电流为 150mA，支持速度等级。<br>bit [24] S18R为 1时，用于请求将信号切换到 1.8V。<br>bit [23:0] 提供给 card检查其工作电压是否匹配，不匹配则进入 Inactive state</td></tr><tr><td align="center">ACMD42</td><td align="center">ac</td><td align="left">[31:1] stuff bits<br>[0] set_cd<br></td><td align="center">R1</td><td align="center">SET_CLR_CARD_DETECT</td><td align="left">控制 card CD/DAT3管脚的 50kΩ的上拉电阻，1b为连接，0b为断开</td></tr><tr><td align="center">ACMD51</td><td align="center">adtc</td><td align="left">[31:0] stuff bits</td><td align="center">R1</td><td align="center">SEND_SCR</td><td align="left">读取 card的 SD配置寄存器（SCR）</td></tr><tr><td align="center">class 10</td><td align="center"></td><td align="left"></td><td align="center"></td><td align="center"></td><td align="left"></td></tr><tr><td align="center">CMD6</td><td align="center">adtc</td><td align="left">[31] Mode<br>0 : Check function<br>1 : Switch function<br>[30:24] reserved (0)<br>[23:20] reserved for function group 6 (0h or Fh)<br>[19:16] reserved for function group 5 (0h or Fh)<br>[15:12] function group 4 for current limit<br>[11:8] function group 3 for drive strength<br>[7:4] function group 2 for command system<br>[3:0] function group 1 for access mode<br></td><td align="center">R1</td><td align="center">SWITCH_FUNC</td><td align="left">bit [31] 0b为功能检查，1b为功能切换<br>bit [15:12] 切换 UHS-I mode下主机提供的最大电流<br>bit [11:8] 切换 UHS-I mode下主机的驱动能力<br>bit [7:4] 切换到特定命令系统，实现特殊功能如<br>bit [3:0] SD总线速度模式选择<br>具体可以查看图 ‘Available Functions’<br>CMD6详细信息可以查看 4.3.10 Switch Function Command</td></tr></tbody></table><p><img src="http://pic.xxxdk.xyz/SD%E5%8D%A1%E5%91%BD%E4%BB%A4%E7%AE%80%E4%BB%8B-Available%20Functions.webp" alt="Available Functions"></p><h4 id="Responses"><a href="#Responses" class="headerlink" title="Responses"></a>Responses</h4><p>Response总共有 6种类型，分别是 R1，R1b，R2，R3，R6，R7。所有的 responses都是从 CMD线返回的，其长度和格式与类型相关，但都是以 0为起始位，1为结束位，传输方向位紧接着起始位，0表示 card到 host。除 R3类型外，所有的 responses都受到 CRC7保护。</p><h5 id="R1（normal-response-command）"><a href="#R1（normal-response-command）" class="headerlink" title="R1（normal response command）"></a>R1（normal response command）</h5><p>一般命令都是响应 R1，长度为 48 bit。bit [45:40] 描述响应的命令，bit [39:8] 描述 card的状态，详细状态可以查看 4.10 Two Status Information of SD Memory Card。</p><p><img src="http://pic.xxxdk.xyz/SD%E5%8D%A1%E5%91%BD%E4%BB%A4%E7%AE%80%E4%BB%8B-R1.webp" alt="R1"></p><h5 id="R1b"><a href="#R1b" class="headerlink" title="R1b"></a>R1b</h5><p>R1b与 R1格式上完全一样，只是会在数据线 DAT0 传输 busy信号，card接受到部分命令会变得忙碌，例如 CMD12，忙碌时 DAT0会被 card拉低。</p><h5 id="R2（CID，CSD-register）"><a href="#R2（CID，CSD-register）" class="headerlink" title="R2（CID，CSD register）"></a>R2（CID，CSD register）</h5><p>R2长度为 136 bit，用于响应 CMD2和 CMD10，返回 CID寄存器的值，以及响应 CMD9，返回 CSD寄存器的值。CID和 CSD的 bit [0]会被结束位替代，即实际传输 bit [127:1]，不过它们两个的 bit [0]也没有使用上，默认为 1。</p><p><img src="http://pic.xxxdk.xyz/SD%E5%8D%A1%E5%91%BD%E4%BB%A4%E7%AE%80%E4%BB%8B-R2.webp" alt="R2"></p><h5 id="R3（OCR-register）"><a href="#R3（OCR-register）" class="headerlink" title="R3（OCR register）"></a>R3（OCR register）</h5><p>R3长度为 48 bit，用于响应 ACMD41，返回 card的 OCR寄存器值。</p><p><img src="http://pic.xxxdk.xyz/SD%E5%8D%A1%E5%91%BD%E4%BB%A4%E7%AE%80%E4%BB%8B-R3.webp" alt="R3"></p><h5 id="R6（Published-RCA-response）"><a href="#R6（Published-RCA-response）" class="headerlink" title="R6（Published RCA response）"></a>R6（Published RCA response）</h5><p>R6长度为 48 bit，用于响应 CMD3。bit [45:40] 默认为 ‘000011b’，bit [39:24] 是给 card设置的 RCA，bit [23:8] 表示 card的状态，具体查看 Table 4-36 Card Status，包括 bit 23，22，19，12:0这几个状态。</p><p><img src="http://pic.xxxdk.xyz/SD%E5%8D%A1%E5%91%BD%E4%BB%A4%E7%AE%80%E4%BB%8B-R6.webp" alt="R6"></p><h5 id="R7（Card-interface-condition）"><a href="#R7（Card-interface-condition）" class="headerlink" title="R7（Card interface condition）"></a>R7（Card interface condition）</h5><p>R7长度为 48bit，用于响应 CMD8。bit [19:16]（voltage accepted）是返回 card支持的工作电压范围，bit [15:8] 返回 host发送的 check pattern。</p><p><img src="http://pic.xxxdk.xyz/SD%E5%8D%A1%E5%91%BD%E4%BB%A4%E7%AE%80%E4%BB%8B-R7.webp" alt="R7"></p><p><img src="http://pic.xxxdk.xyz/SD%E5%8D%A1%E5%91%BD%E4%BB%A4%E7%AE%80%E4%BB%8B-Voltage%20Accepted.webp" alt="Voltage Accepted"></p></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/%E6%8A%80%E6%9C%AF/" class="category-chain-item">技术</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/mmc/">#mmc</a> <a href="/tags/sd-card/">#sd card</a></div></div><div class="license-box my-3"><div class="license-title"><div>SD卡命令简介</div><div>http://xxxdk.xyz/xxx/2021/01/SD卡命令简介/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>sni</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2021年1月26日</div></div><div class="license-meta-item"><div>许可协议</div><div><a target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/xxx/2021/02/eMMC%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-Boot-mode/" title="eMMC操作模式-Boot mode"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">eMMC操作模式-Boot mode</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/xxx/2021/01/sdhci-set-transfer-mode%E5%87%BD%E6%95%B0%E8%A7%A3%E6%9E%90/" title="sdhci_set_transfer_mode函数解析"><span class="hidden-mobile">sdhci_set_transfer_mode函数解析</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div><div class="statistics"><span id="leancloud-site-pv-container" style="display:none">总访问量 <span id="leancloud-site-pv"></span> 次 </span><span id="leancloud-site-uv-container" style="display:none">总访客数 <span id="leancloud-site-uv"></span> 人</span></div><div class="beian"><span><a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">粤ICP备18097075号</a></span></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t,e){var i=Fluid.plugins.typing,n=e.getElementById("subtitle");n&&i&&i(n.getAttribute("data-typed-text"))}(window,document)</script><script src="https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var o=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),n=[];for(var i of o)n.push(".markdown-body > "+i.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(n.join(", "))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script defer src="/js/leancloud.js"></script><script src="/js/local-search.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript></body></html>